# 一.需求分析

## 1.增删改

- 添加/删除新菜品
- 修改菜品的信息，如价格，数量
- 卖出菜品的同时同步库存信息

## 2.查数据库

- 查询所有/指定订单

## 3.可视化显示(视情况而定)

- 统计某天的营业额
- 统计某种菜品的营业额
- 统计某种菜品中销量最高的菜

## 4.数据字典

- 顾客表 Customers
  - 顾客名称 Cname
  - 顾客联系方式 Cphone
  - 登录密码 [暂定] Cpwd
- 订单表 Orders
  - 订单编号 Ono
  - 生产日期 Odate
  - 订单总价 Ototal
- 菜品表 Dishes
  - 菜品名 Dname
  - 菜品单价 Dprice
  - 菜品类名 Dtype
- 菜品分类表 DishTypes
  - 菜品类名 Dtype
- 订单细节表 OrderDetail
  - 订单编号 Ono
  - 菜品名 Dname
  - 菜品数量 Dcount
  - 菜品单价 Dprice

# 二.概念模型设计

## 1.实体集

### (1).实体

- 顾客(顾客名称，联系方式，登录密码)
- 订单(订单号，生成日期，订单总价)
- 订单细节(订单号，菜品名，菜品数量，菜品单价)
- 菜品(菜名，单价，分类)
- 库存(菜名，库存量)
- 分类表(类名)

### (2).实体之间的联系/限制条件

- **订单**

  - 一个订单只能属于一位顾客
  - 一个订单可对应多个菜品

- **菜品**

  - 一个菜品只能属于一个分类

- **顾客**
  - 一个顾客可提交多个订单
  - 一个顾客只能拥有一个桌号

## 2.生成 E-R 图

# 三.逻辑模型设计

- 该步将 E-R 图转换为对应的关系模式集

## 1.关系模式集合

- **顾客**:(顾客名称，联系方式，登录密码)
  - 主码：顾客编号
- **订单**:(订单编号，生成日期，总价(冗余)，顾客编号)
  - 主码：订单编号
  - 外码：顾客名称
- **订单细节**:(订单编号，菜品名，菜品数量，菜品单价)
  - 主码：订单编号 + 菜品名
- **菜品**:(菜品名，菜品类名，单价)
  - 主码：菜品名
  - 外码：菜品类名
- **分类**:(菜品类名)
  - 主码：菜品类名

## 2.触发器编写

- 为保证数据完整性和一致性，需为某些关系之间的属性之间编写触发器

```

```
